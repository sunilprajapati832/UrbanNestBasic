<!DOCTYPE html>
<html>
<head>
    <title>UrbanNest</title>
</head>
<body>

<nav>
    <a href="{{ url_for('main.home') }}">Home</a>

    {% if current_user.is_authenticated %}
    <a href="{{ url_for('property.property_list') }}">Properties</a>
    <a href="{{ url_for('property.add_property') }}">Add Property</a>

    {% if current_user.role == 'admin' and unverified_count > 0 %}
        <a href="{{ url_for('property.unverified_properties') }}">
            ðŸ”” {{ unverified_count }} Pending Verification
        </a>
    {% endif %}

    <a href="{{ url_for('auth.logout') }}">Logout</a>
{% else %}
    <a href="{{ url_for('auth.login') }}">Login</a>
    <a href="{{ url_for('auth.register') }}">Register</a>
{% endif %}

</nav>

<hr>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, message in messages %}
    <p style="color: {% if category=='danger' %}red{% elif category=='success' %}green{% else %}blue{% endif %};">
        {{ message }}
    </p>
  {% endfor %}
{% endwith %}

{% block content %}{% endblock %}

</body>
</html>
